{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Documents/IT.Projects/Test%20scraper/ss-search-test/pages/index.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function Home() {\n  const [q, setQ] = useState(\"Fender Jazz Bass\");\n  const [loading, setLoading] = useState(false);\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [metadata, setMetadata] = useState(null);\n\n  async function runSearch(e) {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    setItems([]);\n    setMetadata(null);\n\n    try {\n      const res = await fetch(`/api/search?q=${encodeURIComponent(q)}`);\n      const data = await res.json();\n      if (!res.ok) throw new Error(data?.error || \"Request failed\");\n      \n      setItems(data.items || []);\n      setMetadata({\n        tookMs: data.tookMs,\n        errors: data.errors || [],\n        sources: data.sources || [],\n      });\n    } catch (err) {\n      setError(err.message || String(err));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div style={{ maxWidth: 900, margin: \"40px auto\", fontFamily: \"system-ui\" }}>\n      <h1>SS.com search test</h1>\n\n      <form onSubmit={runSearch} style={{ display: \"flex\", gap: 8 }}>\n        <input\n          value={q}\n          onChange={(e) => setQ(e.target.value)}\n          placeholder=\"Search…\"\n          style={{ flex: 1, padding: 12, fontSize: 16 }}\n        />\n        <button style={{ padding: \"12px 16px\", fontSize: 16 }}>\n          {loading ? \"Searching…\" : \"Search\"}\n        </button>\n      </form>\n\n      {error && (\n        <p style={{ color: \"crimson\", marginTop: 16 }}>\n          Error: {error}\n        </p>\n      )}\n\n      {metadata && metadata.errors.length > 0 && (\n        <div style={{ marginTop: 16, padding: 12, backgroundColor: \"#fff3cd\", borderRadius: 8 }}>\n          <strong>Warnings:</strong>\n          <ul style={{ margin: \"8px 0 0 0\", paddingLeft: 20 }}>\n            {metadata.errors.map((err, idx) => (\n              <li key={idx}>\n                {err.source}: {err.message}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {metadata && (\n        <div style={{ marginTop: 16, fontSize: 14, opacity: 0.7 }}>\n          Found {items.length} items in {metadata.tookMs}ms\n          {metadata.sources.length > 0 && ` from ${metadata.sources.join(\", \")}`}\n        </div>\n      )}\n\n      <div style={{ marginTop: 24 }}>\n        {items.map((it, idx) => (\n          <div key={idx} style={{ padding: 12, border: \"1px solid #ddd\", borderRadius: 10, marginBottom: 10 }}>\n            <div style={{ fontWeight: 700 }}>{it.title || \"(no title)\"}</div>\n            <div style={{ opacity: 0.8 }}>{it.priceText || it.price || \"\"}</div>\n            {it.url && (\n              <a href={it.url} target=\"_blank\" rel=\"noreferrer\">\n                Open listing\n              </a>\n            )}\n            <div style={{ fontSize: 12, opacity: 0.6, marginTop: 6 }}>\n              Source: {it.sourceName || it.source || \"unknown\"}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}